# [ 객체지향 모델링 ]

[toc]



# 1.1 모델링

- 모델의 역할
  1. 서로의 해석을 공유해 합의를 이루거나 해석의 타당서을 검토한다.
  2. 현재 시스템 또는 앞으로 개발할 시스템의 원하는 모습을 가시화한다.
  3. 시스템의 구조와 행위를 명세할 수 있으며 시스템을 구축하는 틀을 제공한다.



# 1.2 UML

- UML (Unified Modeling Language) : 요구 분석, 시스템 설계, 시스템 구현 등의 시스템 개발 과정에서 개발자 사이의 의사 소통이 원활하게 이루어지도록 표준화한 통합 모델링 언어
- UML의 구조 다이어그램의 한 종류로서 클래스 다이어그램이 있다.



# 1.3 클래스 다이어그램

- 클래스 다이어그램 : 시스템을 구성하는 클래스와 그들 사이의 관계를 보여줌. 



## 1.3.1 관계

| 관계                                 | 설명                                                         |
| ------------------------------------ | ------------------------------------------------------------ |
| 연관 관계 (association)              | 클래스들이 개념상 서로 연결되었음을 나타낸다. 실선이나 화살표로 표시하며 보통은 한 클래스가 다른 클래스에서 제공하는 기능을 사용하는 상황일 때 표시한다. |
| 일반화 관계 (generalization)         | 객체지향 개념에서는 상속 관계라고 한다. 한 클래스가 다른 클래스를 포함하는 상위 개념일 때 이를 IS-A 관계라고 하며 UML에서는 일반화 관계로 모델링한다. 속이 빈 화살표를 사용해 표시한다. |
| 집합 관계 (composition, aggregation) | 클래스들 사이의 전체 또는 부분과 같은 관계를 나타낸다. 집약(aggregation) 관계와 합성(composition) 관계가 존재한다. |
| 의존 관계 (dependency)               | 연관 관계와 같이 한 클래스가 다른 클래스에서 제공하는 기능을 사용할 때를 나타낸다. 차이점은 두 클래스의 관계가 한 메서드를 실행하는 동안과 같은, 매우 짧은 시간만 유지된다는 점이다. 점선 화살표를 사용해 표시한다. |
| 실체화 관계 (realization)            | 책임들의 집합인 인터페이스와 이 책임들을 실제로 실현한 클래스들 사이의 관계를 나타낸다. 상속과 유사하게 빈 삼각형을 사용하며 머리에 있는 실선 대신 점선을 사용해 표시한다. |



### 연관 관계

- 연관관계 : 한 클래스가 다른 클래스와 연관관계를 가질 때.

![image-20200726215925777](1장_요약.assets/image-20200726215925777.png)

- 다중성(multiplicity) : 한 클래스의 객체와 한 클래스의 여러 객체와 연관되있을때

![image-20200726220025196](1장_요약.assets/image-20200726220025196.png)

- 단방향 연관 관계(unidirectional association) : 한쪽으로만 방향성이 있는 연관 관계 (학생은 자신이 수강하는 과목을 알지만 과목은 자신을 수강하는 학생들의 존재를 모름)

![image-20200726220131516](1장_요약.assets/image-20200726220131516.png)

- 다대다 연관 관계 : 위의 연관관계는 과목 클래스 객체 하나에 학생 객체 하나면 연관됨. 근데 이는 한 과목에 한 명의 학생만 수강한다는 이상한 관계가 됨. 이를 일반적인 수강 관계로 개선하려면 다대다 연관 관계로 수정해야 함. 일반적으로 다대다 연관 관계는 단방향 연관 관계가 아닌 양방향 연관 관계로 표현됨.

![image-20200726220316151](1장_요약.assets/image-20200726220316151.png)

- 연관 클래스 : 연관 관계에 추가할 속성이나 행위가 있을 때 사용.

![image-20200726220358507](1장_요약.assets/image-20200726220358507.png)



### 일반화 관계

- 일반화 관계 : 한 클래스가 다른 클래스를 포함하는 상위 개념일 때 두 클래스 사이에는 일반화 관계가 존재함. 객체 지향 개념에서는 일반화 관계가 곧 상속 관계. 

![image-20200726220518860](1장_요약.assets/image-20200726220518860.png)



### 집합 관계

- 집합 관계 : UML 연관 관계의 특별 경우로 전체와 부분의 관계를 명확하게 명시하고자 할 때 사용. 집약과 합성 두 종류의 집합 관계가 존재.
  - 집약 관계 : 전체 객체와 부분 객체의 생명 주기가 다르다. 부분 객체를 여러 전체 객체가 공유할 수 있다.
  - 합성 관계 : 전체 객체가 없어지면 부분 객체도 없어진다. 부분 객체를 여러 전체 객체가 공유할 수 없다.
- 합성 관계

```java
public class Computer {
  private MainBoard mb;
  private CPU c;
  private Memory m;
  private PowerSupply ps;
  public Computer() {
    this.mb = new MainBoard();
    this.c = new CPU();
    this.m = new Memory();
    this.ps = new PowerSupply();
  }
}
```

=> 생성자가 컴퓨터의 부품이 되는 Computer 객체들을 생성해 적절한 속성에 바인딩한다. Computer 객체 생성시 객체의 부품을 이루는 각각의 부품 객체가 생성된다. 이 부품 객체들은 Computer 클래스의 객체가 사라지면 다같이 사라진다. 즉, 부품 객체들의 라이프타임이 Computer 객체의 라이프타임에 의존하게된다. 

- 집약 관계

```java
public class Computer {
  private MainBoard mb;
  private CPU c;
  private Memory m;
  private PowerSupply ps;
  public Computer(MainBoard mb, CPU c, Memory m, PowerSupply ps) {
    this.mb = mb;
    this.c = c;
    this.m = m;
    this.ps = ps;
  }
}
```

=> Computer 객체가 사라져도 부품을 구성하는 객체들은 사라지지 않는다. 외부에서 이들 객체에 대한 참조만 받아 사용했기 때문.즉, 전체를 표현하는 Computer 객체의 라이프타임과 부분 객체의 라이프타임은 무관하다. 



### 의존 관계

- 한 클래스가 다른 클래스를 사용하는 경우
  1. 클래스의 속성에서 참조할 때
  2. 연산의 인자로 사용될 때
  3. 메서드 내부의 지역 객체로 참조될 때

- 의존 관계 vs 연관 관계

  - 연관 관계 : 한 클래스의 객체를 다른 클래스 객체의 속성에서 참조하는 경우. 객체들이 오랜 기간 동안 협력 관계를 통해 기능을 수행함.

    ex) 자동차를 소유한 사람이 자동차를 이용해 출근할 경우 매일 출근할때마다 같은 자동차를 사용할 경우가 많음. 이 경우 사람과 자동차의 관계는 연관 관계이며 Person 클래스의 속성으로 Car 객체를 참조한다.

    ```java
    public class Person {
      private Car owns; // 이 속성으로 연관 관계가 설정된다.
      
      public void setCar(Car car){
        this.owns = car;
      }
      
      public Car getCar() {
        return this.owns;
      }
    }
    
    public class Car {
      ...
    }
    ```

    

  - 의존 관계 : 한 클래스가 다른 클래스를 연산의 인자나 메서드 내부의 지역 객체로 참조할 때. 매번 참조하는 객체가 달라짐.

    ex) 자동차와 주유기의 관계. 자동차에 주유할 때 이용하는 주유기가 매번 달리질 확률이 높고, 이때는 사용되는 주유기를 인자나 지역 객체로 생성해 구현한다.

  ```java
  public class Car {
    ...
      public void fillGas(GasPump p){// 내부의 지역 객체로 참조 
      	p.getGas(amount);
      	...
    }
  }
  ```

  ![image-20200726221758992](1장_요약.assets/image-20200726221758992.png)



### 인터페이스와 실체화 관계

- 인터페이스란 책임(responsibility)이다. 
- 책임 : 객체가 해야 하는 일, 객체가 할 수도 있는 일. 즉, 객체가 외부에 제공하는 서비스나 기능은 객체가 수행하는 책임으로 본다.
- 인터페이스를 어떤 공통되는 능력이 있는 것들을 대표하는 관점으로도 볼 수 있다. 인터페이스 자체는 실제로 책임을 수행하는 객체가 아니고, 인터페이스를 상속받는 클래스들이 책임을 실제로 수행하는 객체다. 

![image-20200726222457505](1장_요약.assets/image-20200726222457505.png)

